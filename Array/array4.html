<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>数组求交集/并集/差集</title>
</head>
<body>

</body>
<script>
    //数组求交集
    var arr1 = [1, 2, 3, 4];
    var arr2 = [3, 4, 5, 6];
    var arr3 = [4, 5, 6, 7];
    //利用filter和数组自带的indexOf方法
    var arr4 = arr1.filter(function (n) {
        return arr2.indexOf(n) != -1;
    });
    console.log(arr4);

    //数组求并集
    //方法原理：连接两个数组并去重
    function arrayUnique(arr1,arr2) {
        var a = arr1.concat(arr2);
        a.sort(function (a,b) {
            return a-b;
        });
        var b=[a[0]];
        for(var i=1;i< a.length;i++){
            if(a[i-1]!=a[i]){
                b.push(a[i]);
            }
        }
        return b;
    };
    console.log(arrayUnique(arr1,arr2));

    //数组求差集
    //利用filter和indexOf方法
    Array.prototype.diff = function (arr) {
        return this.filter(function (i) {
            return arr.indexOf(i) < 0;
        });
    };
    console.log(arr2.diff(arr1));
</script>
</html>