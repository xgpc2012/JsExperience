<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Secure Constructor Pattern</title>
</head>
<body>

</body>
<script>
    //7.稳妥构造函数模式
    //稳妥构造函数遵循与寄生构造函数类似的模式，但有两点不同：
    //一是新创建对象的/实例方法不引用 this；二是不使用 new 操作符调用构造函数。
    function Person(name, age, job) {
        //创建要返回的对象
        var o = new Object();
        //可以在这里定义私有变量和函数
        //添加方法
        o.sayName = function () {
            console.log(name);
        };
        //返回对象
        return o;
    }
    //注意，在以这种模式创建的对象中， 除了使用 sayName() 方法之外，没有其他办法访问 name 的值。
    //可以像下面使用稳妥的 Person 构造函数。
    //即使有其他代码会给这个对象添加方法或数据成员，但也不可能有别的办法访问传
    //入到构造函数中的原始数据。稳妥构造函数模式提供的这种安全性，使得它非常适合在某些安全执行环境
    var friend = Person("PC", 22, "Software Engineer");
    friend.sayName(); //"PC"
    //访问不到
    console.log(friend.name);
</script>
</html>